{
  "id": "webpack-loaders",
  "title": "ğŸ¨ Webpack åŠ è½½å™¨ - è®©Webpackç†è§£å„ç§æ–‡ä»¶ç±»å‹",
  "description": "Webpacké»˜è®¤åªèƒ½ç†è§£JavaScriptæ–‡ä»¶ï¼Œä½†ç°ä»£å‰ç«¯é¡¹ç›®åŒ…å«CSSã€å›¾ç‰‡ã€å­—ä½“ç­‰å„ç§èµ„æºã€‚Loaderå°±åƒç¿»è¯‘å®˜ï¼Œå¸®åŠ©Webpackç†è§£å’Œå¤„ç†è¿™äº›ä¸åŒç±»å‹çš„æ–‡ä»¶ã€‚è¿™ä¸€å…³å°†æ•™ä½ é…ç½®æœ€å¸¸ç”¨çš„åŠ è½½å™¨ã€‚",
  "difficulty": "åˆçº§",
  "estimatedTime": "20åˆ†é’Ÿ",
  "category": "webpack",
  "scenario": "ä½ çš„é¡¹ç›®éœ€è¦ä½¿ç”¨CSSæ ·å¼å’Œå›¾ç‰‡èµ„æºï¼Œä½†æ˜¯ç›´æ¥åœ¨JSä¸­importè¿™äº›æ–‡ä»¶ä¼šæŠ¥é”™ã€‚ä½ éœ€è¦é…ç½®ç›¸åº”çš„loaderæ¥è®©Webpackèƒ½å¤Ÿå¤„ç†è¿™äº›èµ„æºã€‚",
  "learningObjectives": [
    "ğŸ¯ ç†è§£Loaderçš„ä½œç”¨ï¼šè®©Webpackèƒ½å¤„ç†éJSæ–‡ä»¶",
    "ğŸ¨ é…ç½®CSSåŠ è½½å™¨ï¼šstyle-loaderå’Œcss-loaderçš„ç»„åˆä½¿ç”¨",
    "ğŸ–¼ï¸ é…ç½®å›¾ç‰‡åŠ è½½å™¨ï¼šå¤„ç†é¡¹ç›®ä¸­çš„å›¾ç‰‡èµ„æº",
    "âš™ï¸ æŒæ¡Loaderçš„æ‰§è¡Œé¡ºåºå’Œé…ç½®æ–¹æ³•"
  ],
  "tasks": [
    {
      "id": "setup-css-loaders",
      "title": "ğŸ¨ ä»»åŠ¡1ï¼šé…ç½®CSSåŠ è½½å™¨",
      "description": "è®©Webpackèƒ½å¤Ÿå¤„ç†CSSæ–‡ä»¶ã€‚éœ€è¦ä¸¤ä¸ªloaderï¼šcss-loaderè§£æCSSæ–‡ä»¶ï¼Œstyle-loaderå°†CSSæ³¨å…¥åˆ°é¡µé¢ä¸­ã€‚",
      "specificSteps": [
        {
          "step": 1,
          "action": "åœ¨webpack.config.jsä¸­æ·»åŠ moduleé…ç½®",
          "code": "module: {\n  rules: [\n    // CSSæ–‡ä»¶å¤„ç†è§„åˆ™\n  ]\n},",
          "explanation": "module.rulesæ•°ç»„åŒ…å«æ‰€æœ‰çš„æ–‡ä»¶å¤„ç†è§„åˆ™"
        },
        {
          "step": 2,
          "action": "æ·»åŠ CSSæ–‡ä»¶çš„å¤„ç†è§„åˆ™",
          "code": "{\n  test: /\\.css$/i,\n  use: ['style-loader', 'css-loader']\n}",
          "explanation": "teståŒ¹é….cssæ–‡ä»¶ï¼ŒuseæŒ‡å®šä½¿ç”¨çš„loader"
        }
      ],
      "loaderExplanation": {
        "css-loader": "è§£æCSSæ–‡ä»¶ä¸­çš„@importå’Œurl()ï¼Œå°†CSSè½¬æ¢ä¸ºJSæ¨¡å—",
        "style-loader": "å°†CSSæ³¨å…¥åˆ°DOMä¸­ï¼Œåˆ›å»º<style>æ ‡ç­¾",
        "æ‰§è¡Œé¡ºåº": "ä»å³åˆ°å·¦ï¼šcss-loader â†’ style-loader"
      },
      "expectedResult": "å¯ä»¥åœ¨JSæ–‡ä»¶ä¸­import CSSæ–‡ä»¶ï¼Œæ ·å¼ä¼šè‡ªåŠ¨åº”ç”¨åˆ°é¡µé¢",
      "validation": {
        "type": "file-content",
        "file": "webpack.config.js",
        "contains": "css-loader"
      }
    },
    {
      "id": "setup-image-loaders",
      "title": "ğŸ–¼ï¸ ä»»åŠ¡2ï¼šé…ç½®å›¾ç‰‡åŠ è½½å™¨",
      "description": "è®©Webpackèƒ½å¤Ÿå¤„ç†å›¾ç‰‡æ–‡ä»¶ï¼ŒåŒ…æ‹¬PNGã€JPGã€GIFç­‰æ ¼å¼ã€‚ç°ä»£Webpackä½¿ç”¨asset modulesæ¥å¤„ç†é™æ€èµ„æºã€‚",
      "specificSteps": [
        {
          "step": 1,
          "action": "åœ¨rulesæ•°ç»„ä¸­æ·»åŠ å›¾ç‰‡å¤„ç†è§„åˆ™",
          "code": "{\n  test: /\\.(png|jpg|jpeg|gif|svg)$/i,\n  type: 'asset/resource'\n}",
          "explanation": "ä½¿ç”¨Webpack 5çš„asset moduleså¤„ç†å›¾ç‰‡"
        }
      ],
      "assetModulesExplanation": {
        "asset/resource": "å°†æ–‡ä»¶è¾“å‡ºåˆ°è¾“å‡ºç›®å½•ï¼Œè¿”å›æ–‡ä»¶URLï¼ˆæ›¿ä»£file-loaderï¼‰",
        "asset/inline": "å°†æ–‡ä»¶å†…è”ä¸ºdata URIï¼ˆæ›¿ä»£url-loaderï¼‰",
        "asset": "è‡ªåŠ¨é€‰æ‹©inlineæˆ–resourceï¼ˆå°æ–‡ä»¶å†…è”ï¼Œå¤§æ–‡ä»¶è¾“å‡ºï¼‰"
      },
      "expectedResult": "å¯ä»¥åœ¨JSä¸­importå›¾ç‰‡ï¼Œè·å¾—å›¾ç‰‡çš„URLè·¯å¾„",
      "validation": {
        "type": "file-content",
        "file": "webpack.config.js",
        "contains": "asset/resource"
      }
    },
    {
      "id": "test-loaders",
      "title": "ğŸ§ª ä»»åŠ¡3ï¼šæµ‹è¯•åŠ è½½å™¨é…ç½®",
      "description": "éªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿CSSå’Œå›¾ç‰‡éƒ½èƒ½æ­£å¸¸åŠ è½½ã€‚",
      "specificSteps": [
        {
          "step": 1,
          "action": "ç¡®ä¿é…ç½®å®Œæ•´æ€§",
          "code": "// å®Œæ•´çš„moduleé…ç½®åº”è¯¥åŒ…å«ï¼š\nmodule: {\n  rules: [\n    // CSSè§„åˆ™\n    {\n      test: /\\.css$/i,\n      use: ['style-loader', 'css-loader']\n    },\n    // å›¾ç‰‡è§„åˆ™\n    {\n      test: /\\.(png|jpg|jpeg|gif|svg)$/i,\n      type: 'asset/resource'\n    }\n  ]\n}",
          "explanation": "ä¸¤ä¸ªè§„åˆ™éƒ½é…ç½®æ­£ç¡®æ‰èƒ½æ­£å¸¸å·¥ä½œ"
        }
      ],
      "testMethod": "è¿è¡Œnpm run buildï¼Œæ£€æŸ¥æ˜¯å¦æœ‰CSSå’Œå›¾ç‰‡ç›¸å…³çš„é”™è¯¯",
      "expectedResult": "æ„å»ºæˆåŠŸï¼Œæ²¡æœ‰å…³äºCSSæˆ–å›¾ç‰‡çš„é”™è¯¯ä¿¡æ¯",
      "validation": {
        "type": "file-content",
        "file": "webpack.config.js",
        "contains": "module"
      }
    }
  ],
  "progressiveHints": [
    {
      "attempt": 1,
      "hint": "ğŸ¨ **ç¬¬ä¸€ä¸ªæç¤º**ï¼šLoaderé…ç½®åœ¨module.rulesæ•°ç»„ä¸­ã€‚ä»è¿™ä¸ªç»“æ„å¼€å§‹ï¼š\n\n```javascript\nmodule: {\n  rules: [\n    {\n      test: /\\.css$/i,\n      use: ['style-loader', 'css-loader']\n    }\n  ]\n}\n```"
    },
    {
      "attempt": 2,
      "hint": "ğŸ–¼ï¸ **ç¬¬äºŒä¸ªæç¤º**ï¼šåˆ«å¿˜äº†å›¾ç‰‡å¤„ç†ï¼åœ¨rulesæ•°ç»„ä¸­å†æ·»åŠ ä¸€ä¸ªè§„åˆ™ï¼š\n\n```javascript\n{\n  test: /\\.(png|jpg|jpeg|gif|svg)$/i,\n  type: 'asset/resource'\n}\n```\n\nWebpack 5ä½¿ç”¨asset modulesæ›¿ä»£äº†file-loaderã€‚"
    },
    {
      "attempt": 3,
      "hint": "ğŸ¯ **å®Œæ•´é…ç½®æ¨¡æ¿**ï¼š\n\n```javascript\nconst path = require('path');\n\nmodule.exports = {\n  entry: './src/index.js',\n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: 'bundle.js'\n  },\n  mode: 'development',\n  \n  module: {\n    rules: [\n      // CSSæ–‡ä»¶å¤„ç†\n      {\n        test: /\\.css$/i,\n        use: ['style-loader', 'css-loader']\n      },\n      // å›¾ç‰‡æ–‡ä»¶å¤„ç†\n      {\n        test: /\\.(png|jpg|jpeg|gif|svg)$/i,\n        type: 'asset/resource'\n      }\n    ]\n  }\n};\n```"
    }
  ],
  "solution": {
    "webpack.config.js": "const path = require('path');\n\nmodule.exports = {\n  entry: './src/index.js',\n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: 'bundle.js'\n  },\n  mode: 'development',\n  \n  // æ¨¡å—å¤„ç†è§„åˆ™\n  module: {\n    rules: [\n      // CSSæ–‡ä»¶å¤„ç†è§„åˆ™\n      {\n        test: /\\.css$/i, // åŒ¹é…æ‰€æœ‰.cssæ–‡ä»¶\n        use: ['style-loader', 'css-loader'] // ä½¿ç”¨çš„loaderï¼Œä»å³åˆ°å·¦æ‰§è¡Œ\n      },\n      // å›¾ç‰‡æ–‡ä»¶å¤„ç†è§„åˆ™\n      {\n        test: /\\.(png|jpg|jpeg|gif|svg)$/i, // åŒ¹é…å›¾ç‰‡æ–‡ä»¶\n        type: 'asset/resource' // ä½¿ç”¨Webpack 5çš„asset modules\n      }\n    ]\n  }\n};"
  },
  "validation": {
    "required": [
      {
        "key": "test: /\\.css$/",
        "message": "è¯·ä¸º CSS æ–‡ä»¶æ·»åŠ æµ‹è¯•è§„åˆ™",
        "hints": ["ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ /\\.css$/ åŒ¹é… CSS æ–‡ä»¶"]
      },
      {
        "key": "'style-loader'",
        "message": "è¯·æ·»åŠ  style-loader",
        "hints": ["style-loader å°† CSS æ³¨å…¥åˆ° DOM ä¸­"]
      },
      {
        "key": "'css-loader'",
        "message": "è¯·æ·»åŠ  css-loader", 
        "hints": ["css-loader è§£æ CSS æ–‡ä»¶ä¸­çš„ @import å’Œ url()"]
      },
      {
        "key": "test: /\\.(png|jpg|gif)$/",
        "message": "è¯·ä¸ºå›¾ç‰‡æ–‡ä»¶æ·»åŠ æµ‹è¯•è§„åˆ™",
        "hints": ["ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å¸¸è§çš„å›¾ç‰‡æ ¼å¼"]
      },
      {
        "key": "'file-loader'",
        "message": "è¯·æ·»åŠ  file-loader å¤„ç†å›¾ç‰‡",
        "hints": ["file-loader å°†æ–‡ä»¶è¾“å‡ºåˆ°è¾“å‡ºç›®å½•å¹¶è¿”å› URL"]
      }
    ]
  }
}