{
  "id": "webpack-typescript",
  "title": "ğŸ“˜ TypeScript + Webpack å®Œç¾èåˆ",
  "description": "TypeScriptå·²ç»æˆä¸ºç°ä»£å‰ç«¯å¼€å‘çš„æ ‡é…ï¼è¿™ä¸€å…³å°†æ•™ä½ å¦‚ä½•åœ¨webpacké¡¹ç›®ä¸­å®Œç¾é›†æˆTypeScriptï¼ŒåŒ…æ‹¬é…ç½®ç¼–è¯‘å™¨ã€è®¾ç½®è·¯å¾„åˆ«åã€å¯ç”¨ç±»å‹æ£€æŸ¥ç­‰ã€‚æŒæ¡è¿™äº›æŠ€èƒ½åï¼Œä½ å°±èƒ½äº«å—TypeScriptå¸¦æ¥çš„ç±»å‹å®‰å…¨å’Œå¼€å‘ä½“éªŒæå‡ã€‚",
  "difficulty": "ä¸­çº§",
  "estimatedTime": "35åˆ†é’Ÿ",
  "category": "webpack",
  "prerequisites": ["webpack-loaders"],
  "scenario": "ä½ çš„å›¢é˜Ÿå†³å®šå°†ç°æœ‰çš„JavaScripté¡¹ç›®è¿ç§»åˆ°TypeScriptï¼Œä»¥æé«˜ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡ã€‚ä½œä¸ºè´Ÿè´£æ„å»ºé…ç½®çš„å·¥ç¨‹å¸ˆï¼Œä½ éœ€è¦é…ç½®webpackæ¥æ”¯æŒTypeScriptç¼–è¯‘ã€ç±»å‹æ£€æŸ¥ï¼Œå¹¶è®¾ç½®ä¾¿æ·çš„è·¯å¾„åˆ«åæ¥ç®€åŒ–importè¯­å¥ã€‚",
  "learningObjectives": [
    "ğŸ”§ é…ç½®ts-loaderå¤„ç†TypeScriptæ–‡ä»¶ï¼Œå®ç°æ— ç¼ç¼–è¯‘",
    "âš™ï¸ è®¾ç½®tsconfig.jsonï¼Œä¼˜åŒ–TypeScriptç¼–è¯‘é€‰é¡¹",
    "ğŸ—‚ï¸ é…ç½®è·¯å¾„åˆ«åï¼Œè®©importè¯­å¥æ›´ç®€æ´æ˜“è¯»",
    "âœ… é›†æˆç±»å‹æ£€æŸ¥åˆ°æ„å»ºæµç¨‹ï¼Œç¡®ä¿ä»£ç è´¨é‡"
  ],
  "tasks": [
    {
      "id": "configure-ts-loader",
      "title": "ğŸ“ ç¬¬ä¸€æ­¥ï¼šé…ç½®TypeScriptåŠ è½½å™¨",
      "description": "é¦–å…ˆéœ€è¦é…ç½®ts-loaderæ¥å¤„ç†.tså’Œ.tsxæ–‡ä»¶ã€‚ts-loaderä¼šè°ƒç”¨TypeScriptç¼–è¯‘å™¨å°†TypeScriptä»£ç è½¬æ¢ä¸ºJavaScriptä»£ç ã€‚",
      "detailedInstructions": [
        "åœ¨webpack.config.jsçš„module.rulesä¸­æ·»åŠ TypeScriptè§„åˆ™",
        "è®¾ç½®test: /\\.tsx?$/ åŒ¹é….tså’Œ.tsxæ–‡ä»¶",
        "ä½¿ç”¨ts-loaderå¤„ç†è¿™äº›æ–‡ä»¶",
        "è®¾ç½®exclude: /node_modules/ æ’é™¤ç¬¬ä¸‰æ–¹åº“",
        "åœ¨ts-loaderé€‰é¡¹ä¸­è®¾ç½®transpileOnly: trueï¼ˆå¼€å‘ç¯å¢ƒæé€Ÿï¼‰"
      ],
      "validation": {
        "type": "file-content",
        "file": "webpack.config.js",
        "contains": "ts-loader"
      }
    },
    {
      "id": "setup-resolve",
      "title": "ğŸ”— ç¬¬äºŒæ­¥ï¼šé…ç½®æ¨¡å—è§£æ",
      "description": "é…ç½®webpackçš„resolveé€‰é¡¹ï¼Œè®©å®ƒèƒ½å¤Ÿæ­£ç¡®è§£æTypeScriptæ–‡ä»¶ï¼Œå¹¶è®¾ç½®ä¾¿æ·çš„è·¯å¾„åˆ«åã€‚è¿™æ ·ä½ å°±å¯ä»¥ä½¿ç”¨@/componentsè¿™æ ·çš„ç®€æ´å¯¼å…¥è·¯å¾„äº†ã€‚",
      "detailedInstructions": [
        "åœ¨webpack.config.jsä¸­æ·»åŠ resolveé…ç½®",
        "è®¾ç½®extensions: ['.ts', '.tsx', '.js', '.jsx'] æ”¯æŒè¿™äº›æ–‡ä»¶æ‰©å±•å",
        "é…ç½®aliasåˆ«åï¼š@æŒ‡å‘srcç›®å½•ï¼Œ@componentsæŒ‡å‘src/componentsç­‰",
        "ç¡®ä¿è·¯å¾„ä½¿ç”¨path.resolve()æ¥è·å–ç»å¯¹è·¯å¾„"
      ],
      "validation": {
        "type": "file-content",
        "file": "webpack.config.js",
        "contains": "resolve"
      }
    },
    {
      "id": "integrate-type-checking",
      "title": "âœ… ç¬¬ä¸‰æ­¥ï¼šé›†æˆç±»å‹æ£€æŸ¥",
      "description": "ä¸ºäº†åœ¨æ„å»ºè¿‡ç¨‹ä¸­è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œéœ€è¦æ·»åŠ ForkTsCheckerWebpackPluginæ’ä»¶ã€‚è¿™ä¸ªæ’ä»¶ä¼šåœ¨å•ç‹¬çš„è¿›ç¨‹ä¸­è¿è¡ŒTypeScriptç±»å‹æ£€æŸ¥ï¼Œä¸ä¼šé˜»å¡æ„å»ºè¿‡ç¨‹ã€‚",
      "detailedInstructions": [
        "å¼•å…¥ForkTsCheckerWebpackPluginæ’ä»¶",
        "åœ¨pluginsæ•°ç»„ä¸­æ·»åŠ è¯¥æ’ä»¶å®ä¾‹",
        "é…ç½®typescript.configFileæŒ‡å‘tsconfig.json",
        "è¿™æ ·å¯ä»¥åœ¨æ„å»ºæ—¶è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œè€Œä¸å½±å“æ„å»ºé€Ÿåº¦"
      ],
      "validation": {
        "type": "file-content",
        "file": "webpack.config.js",
        "contains": "ForkTsCheckerWebpackPlugin"
      }
    }
  ],
  "progressiveHints": [
    {
      "attempt": 1,
      "hint": "ğŸ“ **ç¬¬ä¸€ä¸ªæç¤º - é…ç½®TypeScriptåŠ è½½å™¨**ï¼š\n\nä½ éœ€è¦å‘Šè¯‰webpackå¦‚ä½•å¤„ç†.tså’Œ.tsxæ–‡ä»¶ã€‚åœ¨module.rulesä¸­æ·»åŠ ï¼š\n\n```javascript\nmodule: {\n  rules: [\n    {\n      test: /\\.tsx?$/,\n      use: 'ts-loader',\n      exclude: /node_modules/\n    }\n  ]\n}\n```\n\nè¿™ä¼šè®©webpackä½¿ç”¨ts-loaderæ¥ç¼–è¯‘TypeScriptæ–‡ä»¶ã€‚"
    },
    {
      "attempt": 2,
      "hint": "ğŸ”— **ç¬¬äºŒä¸ªæç¤º - æ·»åŠ æ¨¡å—è§£æé…ç½®**ï¼š\n\né™¤äº†ts-loaderï¼Œä½ è¿˜éœ€è¦é…ç½®resolveé€‰é¡¹ï¼š\n\n```javascript\nresolve: {\n  extensions: ['.ts', '.tsx', '.js', '.jsx'],\n  alias: {\n    '@': path.resolve(__dirname, 'src')\n  }\n}\n```\n\nè¿™æ ·ä½ å°±å¯ä»¥å†™ `import Button from '@/components/Button'` è¿™æ ·çš„ç®€æ´å¯¼å…¥äº†ã€‚\n\nåˆ«å¿˜äº†åœ¨é¡¶éƒ¨æ·»åŠ ï¼š`const path = require('path');`"
    },
    {
      "attempt": 3,
      "hint": "âš¡ **ç¬¬ä¸‰ä¸ªæç¤º - å®Œæ•´çš„TypeScripté…ç½®**ï¼š\n\n```javascript\nconst path = require('path');\nconst ForkTsCheckerWebpackPlugin = require('fork-ts-checker-webpack-plugin');\n\nmodule.exports = {\n  entry: './src/index.ts',\n  \n  resolve: {\n    extensions: ['.ts', '.tsx', '.js', '.jsx'],\n    alias: {\n      '@': path.resolve(__dirname, 'src'),\n      '@components': path.resolve(__dirname, 'src/components'),\n      '@utils': path.resolve(__dirname, 'src/utils')\n    }\n  },\n  \n  module: {\n    rules: [\n      {\n        test: /\\.tsx?$/,\n        use: {\n          loader: 'ts-loader',\n          options: {\n            transpileOnly: true\n          }\n        },\n        exclude: /node_modules/\n      }\n    ]\n  },\n  \n  plugins: [\n    new ForkTsCheckerWebpackPlugin({\n      typescript: {\n        configFile: path.resolve(__dirname, 'tsconfig.json')\n      }\n    })\n  ]\n};\n```"
    }
  ],
  "resources": [
    {
      "title": "TypeScript Webpack æŒ‡å—",
      "url": "https://webpack.js.org/guides/typescript/"
    }
  ],
  "solution": {
    "webpack.config.js": "const path = require('path');\nconst ForkTsCheckerWebpackPlugin = require('fork-ts-checker-webpack-plugin');\n\nmodule.exports = {\n  entry: './src/index.ts',\n  \n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: '[name].[contenthash].js',\n    clean: true\n  },\n  \n  resolve: {\n    extensions: ['.ts', '.tsx', '.js', '.jsx'],\n    alias: {\n      '@': path.resolve(__dirname, 'src'),\n      '@components': path.resolve(__dirname, 'src/components'),\n      '@utils': path.resolve(__dirname, 'src/utils')\n    }\n  },\n  \n  module: {\n    rules: [\n      {\n        test: /\\.tsx?$/,\n        use: {\n          loader: 'ts-loader',\n          options: {\n            transpileOnly: true, // æé«˜æ„å»ºé€Ÿåº¦\n            configFile: 'tsconfig.json'\n          }\n        },\n        exclude: /node_modules/\n      },\n      {\n        test: /\\.css$/i,\n        use: ['style-loader', 'css-loader']\n      }\n    ]\n  },\n  \n  plugins: [\n    // åœ¨å•ç‹¬è¿›ç¨‹ä¸­è¿›è¡Œç±»å‹æ£€æŸ¥\n    new ForkTsCheckerWebpackPlugin({\n      typescript: {\n        configFile: path.resolve(__dirname, 'tsconfig.json')\n      }\n    })\n  ],\n  \n  devtool: 'source-map',\n  \n  optimization: {\n    splitChunks: {\n      chunks: 'all'\n    }\n  }\n};",
    "tsconfig.json": "{\n  \"compilerOptions\": {\n    \"target\": \"ES2020\",\n    \"module\": \"ESNext\",\n    \"moduleResolution\": \"node\",\n    \"lib\": [\"ES2020\", \"DOM\", \"DOM.Iterable\"],\n    \"allowJs\": true,\n    \"skipLibCheck\": true,\n    \"esModuleInterop\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"strict\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"noEmit\": false,\n    \"jsx\": \"react-jsx\",\n    \"declaration\": true,\n    \"outDir\": \"./dist\",\n    \"rootDir\": \"./src\",\n    \"baseUrl\": \".\",\n    \"paths\": {\n      \"@/*\": [\"src/*\"],\n      \"@components/*\": [\"src/components/*\"],\n      \"@utils/*\": [\"src/utils/*\"]\n    }\n  },\n  \"include\": [\n    \"src/**/*\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n    \"dist\"\n  ]\n}"
  }
}