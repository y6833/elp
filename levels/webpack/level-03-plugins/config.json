{
  "id": "webpack-plugins",
  "title": "ğŸ”Œ Webpack æ’ä»¶ç³»ç»Ÿ - è®©æ„å»ºæ›´æ™ºèƒ½",
  "description": "æ’ä»¶æ˜¯Webpackçš„æ ¸å¿ƒåŠŸèƒ½æ‰©å±•æœºåˆ¶ã€‚å¦‚æœè¯´Loaderæ˜¯æ–‡ä»¶è½¬æ¢å™¨ï¼Œé‚£ä¹ˆPluginå°±æ˜¯åŠŸèƒ½å¢å¼ºå™¨ã€‚è¿™ä¸€å…³å°†æ•™ä½ ä½¿ç”¨æœ€é‡è¦çš„ä¸¤ä¸ªæ’ä»¶ï¼šè‡ªåŠ¨ç”ŸæˆHTMLæ–‡ä»¶å’Œæ¸…ç†è¾“å‡ºç›®å½•ã€‚",
  "difficulty": "ä¸­çº§",
  "estimatedTime": "25åˆ†é’Ÿ",
  "category": "webpack",
  "scenario": "ä½ çš„é¡¹ç›®éœ€è¦è‡ªåŠ¨ç”ŸæˆHTMLæ–‡ä»¶ï¼Œå¹¶ä¸”æ¯æ¬¡æ„å»ºå‰è¦æ¸…ç†æ—§æ–‡ä»¶ã€‚æ‰‹åŠ¨ç®¡ç†è¿™äº›å¾ˆéº»çƒ¦ï¼Œä½ éœ€è¦é…ç½®æ’ä»¶æ¥è‡ªåŠ¨åŒ–è¿™äº›ä»»åŠ¡ã€‚",
  "learningObjectives": [
    "ğŸ”Œ ç†è§£Pluginä¸Loaderçš„åŒºåˆ«å’Œä½œç”¨",
    "ğŸ“„ ä½¿ç”¨HtmlWebpackPluginè‡ªåŠ¨ç”ŸæˆHTMLæ–‡ä»¶",
    "ğŸ§¹ ä½¿ç”¨CleanWebpackPluginæ¸…ç†è¾“å‡ºç›®å½•",
    "âš™ï¸ æŒæ¡æ’ä»¶çš„é…ç½®é€‰é¡¹å’Œå‚æ•°"
  ],
  "tasks": [
    {
      "id": "setup-html-plugin",
      "title": "ğŸ“„ ä»»åŠ¡1ï¼šé…ç½®HTMLè‡ªåŠ¨ç”Ÿæˆæ’ä»¶",
      "description": "é…ç½®HtmlWebpackPluginæ¥è‡ªåŠ¨ç”ŸæˆHTMLæ–‡ä»¶ï¼Œå¹¶è‡ªåŠ¨æ³¨å…¥æ‰“åŒ…åçš„JSå’ŒCSSæ–‡ä»¶ã€‚",
      "specificSteps": [
        {
          "step": 1,
          "action": "åœ¨æ–‡ä»¶é¡¶éƒ¨å¯¼å…¥HtmlWebpackPlugin",
          "code": "const HtmlWebpackPlugin = require('html-webpack-plugin');",
          "explanation": "è¿™ä¸ªæ’ä»¶å¯ä»¥è‡ªåŠ¨ç”ŸæˆHTMLæ–‡ä»¶å¹¶æ³¨å…¥èµ„æº"
        },
        {
          "step": 2,
          "action": "åœ¨é…ç½®å¯¹è±¡ä¸­æ·»åŠ pluginsæ•°ç»„",
          "code": "plugins: [\n  new HtmlWebpackPlugin({\n    title: 'æˆ‘çš„Webpackåº”ç”¨',\n    template: './src/template.html',\n    filename: 'index.html'\n  })\n],",
          "explanation": "é…ç½®æ’ä»¶é€‰é¡¹ï¼šæ ‡é¢˜ã€æ¨¡æ¿æ–‡ä»¶ã€è¾“å‡ºæ–‡ä»¶å"
        }
      ],
      "pluginOptions": {
        "title": "è®¾ç½®ç”Ÿæˆçš„HTMLæ–‡ä»¶çš„æ ‡é¢˜",
        "template": "æŒ‡å®šHTMLæ¨¡æ¿æ–‡ä»¶è·¯å¾„",
        "filename": "è®¾ç½®è¾“å‡ºçš„HTMLæ–‡ä»¶å",
        "inject": "æ§åˆ¶èµ„æºæ³¨å…¥ä½ç½®ï¼ˆhead/body/true/falseï¼‰"
      },
      "expectedResult": "æ„å»ºåä¼šåœ¨distç›®å½•ç”Ÿæˆindex.htmlï¼Œè‡ªåŠ¨åŒ…å«æ‰“åŒ…åçš„JSæ–‡ä»¶",
      "validation": {
        "type": "file-content",
        "file": "webpack.config.js",
        "contains": "HtmlWebpackPlugin"
      }
    },
    {
      "id": "setup-clean-plugin",
      "title": "ğŸ§¹ ä»»åŠ¡2ï¼šé…ç½®ç›®å½•æ¸…ç†æ’ä»¶",
      "description": "é…ç½®CleanWebpackPluginæ¥åœ¨æ¯æ¬¡æ„å»ºå‰è‡ªåŠ¨æ¸…ç†è¾“å‡ºç›®å½•ï¼Œé¿å…æ—§æ–‡ä»¶å †ç§¯ã€‚",
      "specificSteps": [
        {
          "step": 1,
          "action": "å¯¼å…¥CleanWebpackPlugin",
          "code": "const { CleanWebpackPlugin } = require('clean-webpack-plugin');",
          "explanation": "ä½¿ç”¨è§£æ„èµ‹å€¼å¯¼å…¥æ’ä»¶"
        },
        {
          "step": 2,
          "action": "åœ¨pluginsæ•°ç»„ä¸­æ·»åŠ CleanWebpackPlugin",
          "code": "new CleanWebpackPlugin(),",
          "explanation": "é»˜è®¤ä¼šæ¸…ç†output.pathæŒ‡å®šçš„ç›®å½•"
        }
      ],
      "cleanOptions": {
        "é»˜è®¤è¡Œä¸º": "æ¸…ç†output.pathæŒ‡å®šçš„æ•´ä¸ªç›®å½•",
        "cleanOnceBeforeBuildPatterns": "æŒ‡å®šè¦æ¸…ç†çš„æ–‡ä»¶æ¨¡å¼",
        "dry": "è®¾ç½®ä¸ºtrueæ—¶åªæ˜¾ç¤ºè¦åˆ é™¤çš„æ–‡ä»¶ï¼Œä¸å®é™…åˆ é™¤",
        "verbose": "æ˜¾ç¤ºè¯¦ç»†çš„æ¸…ç†æ—¥å¿—"
      },
      "expectedResult": "æ¯æ¬¡æ„å»ºå‰distç›®å½•ä¼šè¢«è‡ªåŠ¨æ¸…ç©º",
      "validation": {
        "type": "file-content",
        "file": "webpack.config.js",
        "contains": "CleanWebpackPlugin"
      }
    },
    {
      "id": "test-plugins",
      "title": "ğŸ§ª ä»»åŠ¡3ï¼šæµ‹è¯•æ’ä»¶åŠŸèƒ½",
      "description": "è¿è¡Œæ„å»ºå‘½ä»¤ï¼ŒéªŒè¯æ’ä»¶æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚",
      "specificSteps": [
        {
          "step": 1,
          "action": "ç¡®ä¿pluginsæ•°ç»„é…ç½®å®Œæ•´",
          "code": "plugins: [\n  new CleanWebpackPlugin(),\n  new HtmlWebpackPlugin({\n    title: 'æˆ‘çš„Webpackåº”ç”¨',\n    template: './src/template.html',\n    filename: 'index.html',\n    inject: 'body'\n  })\n],",
          "explanation": "ä¸¤ä¸ªæ’ä»¶éƒ½æ­£ç¡®é…ç½®"
        }
      ],
      "testMethod": "è¿è¡Œnpm run buildï¼Œæ£€æŸ¥distç›®å½•æ˜¯å¦ç”Ÿæˆäº†HTMLæ–‡ä»¶",
      "expectedResult": "æ„å»ºæˆåŠŸï¼Œç”Ÿæˆçš„HTMLæ–‡ä»¶åŒ…å«æ­£ç¡®çš„æ ‡é¢˜å’Œè„šæœ¬å¼•ç”¨",
      "validation": {
        "type": "build-success",
        "command": "npm run build"
      }
    }
  ],
  "progressiveHints": [
    {
      "attempt": 1,
      "hint": "ğŸ”Œ **ç¬¬ä¸€ä¸ªæç¤º**ï¼šæ’ä»¶é…ç½®åœ¨pluginsæ•°ç»„ä¸­ã€‚å…ˆå¯¼å…¥æ’ä»¶ï¼š\n\n```javascript\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\n\n// ç„¶ååœ¨é…ç½®ä¸­æ·»åŠ \nplugins: [\n  new HtmlWebpackPlugin()\n]\n```"
    },
    {
      "attempt": 2,
      "hint": "ğŸ§¹ **ç¬¬äºŒä¸ªæç¤º**ï¼šåˆ«å¿˜äº†æ¸…ç†æ’ä»¶ï¼å®Œæ•´çš„æ’ä»¶é…ç½®ï¼š\n\n```javascript\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nconst { CleanWebpackPlugin } = require('clean-webpack-plugin');\n\nplugins: [\n  new CleanWebpackPlugin(),\n  new HtmlWebpackPlugin({\n    title: 'æˆ‘çš„Webpackåº”ç”¨',\n    template: './src/template.html'\n  })\n]\n```"
    },
    {
      "attempt": 3,
      "hint": "ğŸ¯ **å®Œæ•´é…ç½®æ¨¡æ¿**ï¼š\n\n```javascript\nconst path = require('path');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nconst { CleanWebpackPlugin } = require('clean-webpack-plugin');\n\nmodule.exports = {\n  entry: './src/index.js',\n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: 'bundle.js'\n  },\n  mode: 'development',\n  \n  plugins: [\n    // æ¸…ç†è¾“å‡ºç›®å½•\n    new CleanWebpackPlugin(),\n    \n    // è‡ªåŠ¨ç”ŸæˆHTMLæ–‡ä»¶\n    new HtmlWebpackPlugin({\n      title: 'æˆ‘çš„Webpackåº”ç”¨',\n      template: './src/template.html',\n      filename: 'index.html',\n      inject: 'body'\n    })\n  ]\n};\n```"
    }
  ],
  "solution": {
    "webpack.config.js": "const path = require('path');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\nconst { CleanWebpackPlugin } = require('clean-webpack-plugin');\n\nmodule.exports = {\n  entry: './src/index.js',\n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: 'bundle.js'\n  },\n  mode: 'development',\n  \n  // æ’ä»¶é…ç½®\n  plugins: [\n    // æ¸…ç†è¾“å‡ºç›®å½• - æ¯æ¬¡æ„å»ºå‰åˆ é™¤distæ–‡ä»¶å¤¹å†…å®¹\n    new CleanWebpackPlugin(),\n    \n    // HTMLæ–‡ä»¶ç”Ÿæˆ - è‡ªåŠ¨åˆ›å»ºHTMLæ–‡ä»¶å¹¶æ³¨å…¥èµ„æº\n    new HtmlWebpackPlugin({\n      title: 'æˆ‘çš„Webpackåº”ç”¨', // HTMLæ–‡ä»¶æ ‡é¢˜\n      template: './src/template.html', // HTMLæ¨¡æ¿æ–‡ä»¶\n      filename: 'index.html', // è¾“å‡ºçš„HTMLæ–‡ä»¶å\n      inject: 'body' // å°†è„šæœ¬æ³¨å…¥åˆ°bodyåº•éƒ¨\n    })\n  ]\n};"
  },
  "validation": {
    "required": [
      {
        "key": "const HtmlWebpackPlugin = require('html-webpack-plugin')",
        "message": "è¯·å¯¼å…¥ HtmlWebpackPlugin",
        "hints": ["ä½¿ç”¨ require å¯¼å…¥ html-webpack-plugin æ¨¡å—"]
      },
      {
        "key": "const { CleanWebpackPlugin } = require('clean-webpack-plugin')",
        "message": "è¯·å¯¼å…¥ CleanWebpackPlugin",
        "hints": ["ä½¿ç”¨è§£æ„èµ‹å€¼å¯¼å…¥ CleanWebpackPlugin"]
      },
      {
        "key": "new HtmlWebpackPlugin",
        "message": "è¯·åœ¨ plugins æ•°ç»„ä¸­æ·»åŠ  HtmlWebpackPlugin å®ä¾‹",
        "hints": ["æ’ä»¶éœ€è¦ç”¨ new å…³é”®å­—å®ä¾‹åŒ–"]
      },
      {
        "key": "new CleanWebpackPlugin",
        "message": "è¯·åœ¨ plugins æ•°ç»„ä¸­æ·»åŠ  CleanWebpackPlugin å®ä¾‹",
        "hints": ["CleanWebpackPlugin ä¼šåœ¨æ¯æ¬¡æ„å»ºå‰æ¸…ç†è¾“å‡ºç›®å½•"]
      }
    ],
    "patterns": [
      {
        "regex": "plugins:\\s*\\[",
        "description": "plugins æ•°ç»„é…ç½®",
        "hint": "ç¡®ä¿æ­£ç¡®é…ç½® plugins æ•°ç»„"
      }
    ]
  }
}