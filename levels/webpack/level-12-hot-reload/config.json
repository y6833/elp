{
  "id": "webpack-hot-reload",
  "title": "ğŸ”¥ å¼€å‘ä½“éªŒå‡çº§ - çƒ­é‡è½½ä¸å¼€å‘æœåŠ¡å™¨é…ç½®",
  "description": "è¿˜åœ¨æ¯æ¬¡ä¿®æ”¹ä»£ç åæ‰‹åŠ¨åˆ·æ–°æµè§ˆå™¨å—ï¼Ÿä½œä¸ºç°ä»£å‰ç«¯å¼€å‘è€…ï¼Œä½ éœ€è¦æŒæ¡çƒ­é‡è½½æŠ€æœ¯ï¼è¿™ä¸€å…³å°†æ•™ä½ é…ç½®webpack-dev-serverï¼Œå®ç°ä»£ç ä¿®æ”¹åçš„å³æ—¶æ›´æ–°ï¼Œè®©å¼€å‘æ•ˆç‡æå‡10å€ã€‚åŒæ—¶å­¦ä¼šé…ç½®APIä»£ç†ï¼Œè§£å†³å¼€å‘ç¯å¢ƒçš„è·¨åŸŸé—®é¢˜ã€‚",
  "difficulty": "åˆçº§",
  "estimatedTime": "30åˆ†é’Ÿ",
  "category": "webpack",
  "prerequisites": ["webpack-basic"],
  "scenario": "ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªReactåº”ç”¨ï¼Œæ¯æ¬¡ä¿®æ”¹CSSæˆ–JSä»£ç åéƒ½éœ€è¦æ‰‹åŠ¨åˆ·æ–°æµè§ˆå™¨ï¼Œè€Œä¸”è¿˜è¦é‡æ–°å¡«å†™è¡¨å•æ•°æ®ã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼Œå‰ç«¯éœ€è¦è°ƒç”¨åç«¯APIï¼Œä½†å­˜åœ¨è·¨åŸŸé—®é¢˜ã€‚ä½ éœ€è¦é…ç½®ä¸€ä¸ªå®Œå–„çš„å¼€å‘ç¯å¢ƒæ¥è§£å†³è¿™äº›é—®é¢˜ã€‚",
  "learningObjectives": [
    "ğŸš€ é…ç½®webpack-dev-serverï¼Œåˆ›å»ºé«˜æ•ˆçš„å¼€å‘ç¯å¢ƒ",
    "ğŸ”¥ å¯ç”¨çƒ­æ¨¡å—æ›¿æ¢(HMR)ï¼Œå®ç°ä»£ç ä¿®æ”¹åçš„å³æ—¶æ›´æ–°",
    "ğŸŒ é…ç½®APIä»£ç†ï¼Œè§£å†³å¼€å‘ç¯å¢ƒçš„è·¨åŸŸé—®é¢˜",
    "âš¡ ä¼˜åŒ–å¼€å‘æœåŠ¡å™¨æ€§èƒ½ï¼Œæå‡å¼€å‘ä½“éªŒ"
  ],
  "tasks": [
    {
      "id": "basic-dev-server",
      "title": "ğŸ—ï¸ ä»»åŠ¡1ï¼šé…ç½®åŸºç¡€å¼€å‘æœåŠ¡å™¨",
      "description": "ä½ éœ€è¦å¯åŠ¨ä¸€ä¸ªæœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼Œè®©ä½ çš„ç½‘é¡µèƒ½åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œå¹¶ä¸”èƒ½å¤Ÿè‡ªåŠ¨åˆ·æ–°ã€‚",
      "specificSteps": [
        {
          "step": 1,
          "action": "åœ¨webpack.config.jsä¸­æ·»åŠ devServeré…ç½®",
          "code": "devServer: {\n  static: {\n    directory: path.join(__dirname, 'public'),\n  },\n  port: 3000,\n  open: true,\n  compress: true,\n},",
          "explanation": "è¿™æ˜¯å¼€å‘æœåŠ¡å™¨çš„åŸºç¡€é…ç½®"
        }
      ],
      "configExplanation": {
        "static.directory": "å‘Šè¯‰æœåŠ¡å™¨ä»å“ªä¸ªæ–‡ä»¶å¤¹æä¾›é™æ€æ–‡ä»¶ï¼ˆå¦‚index.htmlã€å›¾ç‰‡ç­‰ï¼‰",
        "port: 3000": "å¼€å‘æœåŠ¡å™¨è¿è¡Œåœ¨3000ç«¯å£ï¼Œè®¿é—®åœ°å€æ˜¯http://localhost:3000",
        "open: true": "å¯åŠ¨æœåŠ¡å™¨åè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨",
        "compress: true": "å¯ç”¨gzipå‹ç¼©ï¼Œè®©æ–‡ä»¶ä¼ è¾“æ›´å¿«"
      },
      "testMethod": "é…ç½®å®Œæˆåè¿è¡Œnpm run devï¼Œåº”è¯¥ä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨å¹¶æ˜¾ç¤ºä½ çš„é¡µé¢",
      "validation": {
        "type": "file-content",
        "file": "webpack.config.js",
        "contains": "devServer"
      }
    },
    {
      "id": "enable-hot-reload",
      "title": "ğŸ”¥ ä»»åŠ¡2ï¼šå¯ç”¨çƒ­æ¨¡å—æ›¿æ¢(HMR)",
      "description": "ç°åœ¨è¦è®©ä»£ç ä¿®æ”¹åä¸åˆ·æ–°é¡µé¢å°±èƒ½çœ‹åˆ°æ•ˆæœã€‚æ¯”å¦‚ä¿®æ”¹CSSé¢œè‰²ï¼Œé¡µé¢ä¼šç«‹å³å˜è‰²ä½†ä¸ä¼šä¸¢å¤±è¡¨å•æ•°æ®ã€‚",
      "specificSteps": [
        {
          "step": 1,
          "action": "åœ¨devServerä¸­æ·»åŠ çƒ­é‡è½½ç›¸å…³é…ç½®",
          "code": "hot: true, // å¯ç”¨çƒ­æ¨¡å—æ›¿æ¢\nhistoryApiFallback: true, // æ”¯æŒå•é¡µåº”ç”¨è·¯ç”±",
          "explanation": "hot: trueæ˜¯HMRçš„æ ¸å¿ƒå¼€å…³"
        },
        {
          "step": 2,
          "action": "æ·»åŠ å®¢æˆ·ç«¯é…ç½®å’Œæ–‡ä»¶ç›‘å¬",
          "code": "// å®¢æˆ·ç«¯æ—¥å¿—çº§åˆ«\nclient: {\n  logging: 'info',\n  overlay: {\n    errors: true,\n    warnings: false,\n  },\n},\n\n// ç›‘å¬æ–‡ä»¶å˜åŒ–\nwatchFiles: ['src/**/*', 'public/**/*'],",
          "explanation": "overlayä¼šåœ¨é¡µé¢ä¸Šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼ŒwatchFilesç›‘å¬æ–‡ä»¶å˜åŒ–"
        }
      ],
      "whatIsHMR": "çƒ­æ¨¡å—æ›¿æ¢(HMR)å¯ä»¥åœ¨ä¸åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹æ›´æ–°ä»£ç ã€‚CSSä¿®æ”¹ä¼šç«‹å³ç”Ÿæ•ˆï¼ŒJSä¿®æ”¹ä¼šå°½é‡ä¿æŒé¡µé¢çŠ¶æ€ã€‚",
      "howItWorks": {
        "CSSä¿®æ”¹": "ä¿®æ”¹æ ·å¼åï¼Œé¡µé¢æ ·å¼ç«‹å³æ›´æ–°ï¼Œä¸ä¼šåˆ·æ–°é¡µé¢",
        "JSä¿®æ”¹": "ä¿®æ”¹JSä»£ç åï¼Œwebpackä¼šå°è¯•çƒ­æ›´æ–°æ¨¡å—",
        "é”™è¯¯å¤„ç†": "å¦‚æœçƒ­æ›´æ–°å¤±è´¥ï¼Œä¼šè‡ªåŠ¨å›é€€åˆ°é¡µé¢åˆ·æ–°"
      },
      "testMethod": "ä¿®æ”¹src/styles.cssä¸­çš„é¢œè‰²ï¼Œä¿å­˜åé¡µé¢åº”è¯¥ç«‹å³å˜è‰²è€Œä¸åˆ·æ–°",
      "validation": {
        "type": "file-content",
        "file": "webpack.config.js",
        "contains": "hot: true"
      }
    },
    {
      "id": "configure-proxy",
      "title": "ğŸŒ ä»»åŠ¡3ï¼šé…ç½®APIä»£ç†è§£å†³è·¨åŸŸé—®é¢˜",
      "description": "å‰ç«¯è¿è¡Œåœ¨localhost:3000ï¼Œåç«¯APIè¿è¡Œåœ¨localhost:8080ã€‚ç›´æ¥è°ƒç”¨ä¼šæœ‰è·¨åŸŸé”™è¯¯ï¼Œéœ€è¦é…ç½®ä»£ç†è½¬å‘è¯·æ±‚ã€‚",
      "specificSteps": [
        {
          "step": 1,
          "action": "åœ¨devServerä¸­æ·»åŠ proxyé…ç½®",
          "code": "// APIä»£ç†é…ç½®\nproxy: {\n  '/api': {\n    target: 'http://localhost:8080',\n    changeOrigin: true,\n    pathRewrite: {\n      '^/api': ''\n    }\n  }\n},",
          "explanation": "å°†æ‰€æœ‰/apiå¼€å¤´çš„è¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡å™¨"
        }
      ],
      "proxyExplanation": {
        "'/api'": "åŒ¹é…æ‰€æœ‰ä»¥/apiå¼€å¤´çš„è¯·æ±‚è·¯å¾„",
        "target": "åç«¯æœåŠ¡å™¨çš„åœ°å€ï¼Œè¯·æ±‚ä¼šè¢«è½¬å‘åˆ°è¿™é‡Œ",
        "changeOrigin: true": "ä¿®æ”¹è¯·æ±‚å¤´çš„originï¼Œè®©åç«¯è®¤ä¸ºè¯·æ±‚æ¥è‡ªåŒä¸€åŸŸå",
        "pathRewrite": "é‡å†™è¯·æ±‚è·¯å¾„ï¼Œ'^/api': '' è¡¨ç¤ºå»æ‰/apiå‰ç¼€"
      },
      "example": {
        "å‰ç«¯è¯·æ±‚": "fetch('/api/users') -> http://localhost:3000/api/users",
        "ä»£ç†è½¬å‘": "http://localhost:8080/users (å»æ‰äº†/apiå‰ç¼€)",
        "å®é™…æ•ˆæœ": "å‰ç«¯å¯ä»¥æ­£å¸¸è°ƒç”¨åç«¯APIï¼Œæ²¡æœ‰è·¨åŸŸé—®é¢˜"
      },
      "testMethod": "åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œ fetch('/api/test')ï¼Œåº”è¯¥ä¸ä¼šå‡ºç°è·¨åŸŸé”™è¯¯",
      "validation": {
        "type": "file-content",
        "file": "webpack.config.js",
        "contains": "proxy"
      }
    }
  ],
  "progressiveHints": [
    {
      "attempt": 1,
      "hint": "ğŸ’¡ **ç¬¬ä¸€ä¸ªæç¤º - ä»åŸºç¡€é…ç½®å¼€å§‹**ï¼š\n\nä½ éœ€è¦åœ¨webpack.config.jsä¸­æ·»åŠ devServeré…ç½®ã€‚å…ˆè¯•è¯•è¿™ä¸ªåŸºç¡€ç»“æ„ï¼š\n\n```javascript\ndevServer: {\n  port: 3000,\n  open: true\n}\n```\n\nè¿™ä¼šè®©å¼€å‘æœåŠ¡å™¨è¿è¡Œåœ¨3000ç«¯å£å¹¶è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ã€‚"
    },
    {
      "attempt": 2,
      "hint": "ğŸ”¥ **ç¬¬äºŒä¸ªæç¤º - æ·»åŠ æ›´å¤šé…ç½®**ï¼š\n\nåŸºç¡€é…ç½®ä¸å¤Ÿï¼Œä½ è¿˜éœ€è¦ï¼š\n\n```javascript\ndevServer: {\n  static: {\n    directory: path.join(__dirname, 'public')\n  },\n  port: 3000,\n  open: true,\n  hot: true,  // è¿™æ˜¯çƒ­é‡è½½çš„å…³é”®ï¼\n  compress: true\n}\n```\n\nåˆ«å¿˜äº†åœ¨æ–‡ä»¶é¡¶éƒ¨æ·»åŠ ï¼š`const path = require('path');`"
    },
    {
      "attempt": 3,
      "hint": "ğŸ¯ **ç¬¬ä¸‰ä¸ªæç¤º - å®Œæ•´é…ç½®æ¨¡æ¿**ï¼š\n\nçœ‹èµ·æ¥ä½ éœ€è¦å®Œæ•´çš„é…ç½®ã€‚å¤åˆ¶è¿™ä¸ªæ¨¡æ¿å¹¶æ ¹æ®ä»»åŠ¡è¦æ±‚è°ƒæ•´ï¼š\n\n```javascript\nconst path = require('path');\n\nmodule.exports = {\n  mode: 'development',\n  entry: './src/index.js',\n  \n  devServer: {\n    static: {\n      directory: path.join(__dirname, 'public'),\n    },\n    port: 3000,\n    open: true,\n    hot: true,\n    compress: true,\n    historyApiFallback: true,\n    \n    proxy: {\n      '/api': {\n        target: 'http://localhost:8080',\n        changeOrigin: true,\n        pathRewrite: { '^/api': '' }\n      }\n    },\n    \n    client: {\n      logging: 'info',\n      overlay: { errors: true, warnings: false }\n    },\n    \n    watchFiles: ['src/**/*', 'public/**/*']\n  }\n};\n```"
    }
  ],
  "resources": [
    {
      "title": "Webpack Dev Server æ–‡æ¡£",
      "url": "https://webpack.js.org/configuration/dev-server/"
    }
  ],
  "solution": {
    "webpack.config.js": "const path = require('path');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\n\nmodule.exports = {\n  mode: 'development',\n  entry: './src/index.js',\n  \n  output: {\n    path: path.resolve(__dirname, 'dist'),\n    filename: '[name].js',\n    clean: true\n  },\n  \n  // å¼€å‘æœåŠ¡å™¨é…ç½®\n  devServer: {\n    static: {\n      directory: path.join(__dirname, 'public'),\n    },\n    port: 3000,\n    open: true,\n    hot: true, // å¯ç”¨çƒ­æ¨¡å—æ›¿æ¢\n    compress: true,\n    historyApiFallback: true,\n    \n    // APIä»£ç†é…ç½®\n    proxy: {\n      '/api': {\n        target: 'http://localhost:8080',\n        changeOrigin: true,\n        pathRewrite: {\n          '^/api': ''\n        }\n      }\n    },\n    \n    // å®¢æˆ·ç«¯æ—¥å¿—çº§åˆ«\n    client: {\n      logging: 'info',\n      overlay: {\n        errors: true,\n        warnings: false,\n      },\n    },\n    \n    // ç›‘å¬æ–‡ä»¶å˜åŒ–\n    watchFiles: ['src/**/*', 'public/**/*'],\n  },\n  \n  module: {\n    rules: [\n      {\n        test: /\\.css$/i,\n        use: ['style-loader', 'css-loader'],\n      },\n      {\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        use: {\n          loader: 'babel-loader',\n          options: {\n            presets: ['@babel/preset-env']\n          }\n        }\n      }\n    ],\n  },\n  \n  plugins: [\n    new HtmlWebpackPlugin({\n      template: './public/index.html',\n      filename: 'index.html'\n    })\n  ],\n  \n  // å¼€å‘å·¥å…·\n  devtool: 'eval-source-map',\n  \n  // ä¼˜åŒ–é…ç½®\n  optimization: {\n    runtimeChunk: 'single',\n  },\n};"
  }
}