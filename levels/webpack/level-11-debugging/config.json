{
  "id": "webpack-debugging",
  "title": "ğŸ” Webpack è°ƒè¯•å¤§å¸ˆ - é”™è¯¯æ’æŸ¥ä¸æ€§èƒ½åˆ†æ",
  "description": "ä½œä¸ºä¸€åå‰ç«¯å·¥ç¨‹å¸ˆï¼Œä½ ç»å¸¸é‡åˆ°webpackæ„å»ºå¤±è´¥æˆ–æ‰“åŒ…æ–‡ä»¶è¿‡å¤§çš„é—®é¢˜ã€‚è¿™ä¸€å…³å°†æ•™ä½ æˆä¸ºwebpackè°ƒè¯•ä¸“å®¶ï¼Œå­¦ä¼šå¿«é€Ÿå®šä½é—®é¢˜ã€åˆ†æåŒ…å¤§å°ã€ä¼˜åŒ–æ„å»ºæ€§èƒ½ã€‚æŒæ¡è¿™äº›æŠ€èƒ½åï¼Œä½ å°†èƒ½å¤Ÿè½»æ¾è§£å†³99%çš„webpacké—®é¢˜ï¼",
  "difficulty": "åˆçº§",
  "estimatedTime": "25åˆ†é’Ÿ",
  "category": "webpack",
  "prerequisites": ["webpack-basic"],
  "scenario": "ä½ çš„å›¢é˜Ÿåé¦ˆè¯´é¡¹ç›®æ„å»ºæ—¶é—´å¤ªé•¿ï¼Œè€Œä¸”æ‰“åŒ…åçš„æ–‡ä»¶å¾ˆå¤§ï¼Œå½±å“äº†é¡µé¢åŠ è½½é€Ÿåº¦ã€‚ä½œä¸ºè´Ÿè´£æ„å»ºä¼˜åŒ–çš„å·¥ç¨‹å¸ˆï¼Œä½ éœ€è¦é…ç½®è°ƒè¯•å·¥å…·æ¥åˆ†æå’Œè§£å†³è¿™äº›é—®é¢˜ã€‚",
  "learningObjectives": [
    "ğŸ¯ æŒæ¡source mapçš„ä¸åŒç±»å‹ï¼Œå­¦ä¼šä¸ºå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒé€‰æ‹©åˆé€‚çš„è°ƒè¯•æ–¹æ¡ˆ",
    "ğŸ“Š å­¦ä¼šä½¿ç”¨webpack-bundle-analyzeråˆ†ææ‰“åŒ…ç»“æœï¼Œæ‰¾å‡ºä½“ç§¯è¿‡å¤§çš„æ¨¡å—",
    "ğŸ”§ é…ç½®è¯¦ç»†çš„æ„å»ºç»Ÿè®¡ä¿¡æ¯ï¼Œå¿«é€Ÿå®šä½æ„å»ºè¿‡ç¨‹ä¸­çš„é—®é¢˜",
    "âš¡ ç†è§£å¦‚ä½•é€šè¿‡é…ç½®ä¼˜åŒ–æ¥æå‡æ„å»ºæ€§èƒ½å’Œè°ƒè¯•ä½“éªŒ"
  ],
  "tasks": [
    {
      "id": "setup-source-maps",
      "title": "ğŸ—ºï¸ ä»»åŠ¡1ï¼šé…ç½®Source Mapè°ƒè¯•å·¥å…·",
      "description": "ä½ éœ€è¦è®©webpackç”Ÿæˆsource mapæ–‡ä»¶ï¼Œè¿™æ ·åœ¨æµè§ˆå™¨ä¸­è°ƒè¯•æ—¶å°±èƒ½çœ‹åˆ°åŸå§‹çš„æºä»£ç ï¼Œè€Œä¸æ˜¯å‹ç¼©åçš„ä»£ç ã€‚",
      "specificSteps": [
        {
          "step": 1,
          "action": "ä¿®æ”¹webpack.config.jsçš„å¯¼å‡ºæ–¹å¼",
          "code": "module.exports = (env, argv) => {\n  const isProduction = argv.mode === 'production';\n  \n  return {\n    // é…ç½®å†…å®¹\n  };\n};",
          "explanation": "ä½¿ç”¨å‡½æ•°å½¢å¼å¯ä»¥æ ¹æ®æ„å»ºæ¨¡å¼åŠ¨æ€é…ç½®"
        },
        {
          "step": 2,
          "action": "åœ¨é…ç½®å¯¹è±¡ä¸­æ·»åŠ devtoolå­—æ®µ",
          "code": "devtool: isProduction ? 'source-map' : 'eval-source-map',",
          "explanation": "ç”Ÿäº§ç¯å¢ƒç”¨source-mapï¼ˆæ–‡ä»¶å°ï¼‰ï¼Œå¼€å‘ç¯å¢ƒç”¨eval-source-mapï¼ˆæ„å»ºå¿«ï¼‰"
        }
      ],
      "expectedResult": "é…ç½®å®Œæˆåï¼Œæ„å»ºæ—¶ä¼šç”Ÿæˆ.mapæ–‡ä»¶ï¼Œæµè§ˆå™¨è°ƒè¯•æ—¶èƒ½çœ‹åˆ°åŸå§‹ä»£ç ",
      "validation": {
        "type": "file-content",
        "file": "webpack.config.js",
        "contains": "devtool"
      }
    },
    {
      "id": "configure-stats",
      "title": "ğŸ“Š ä»»åŠ¡2ï¼šé…ç½®è¯¦ç»†çš„æ„å»ºä¿¡æ¯è¾“å‡º",
      "description": "å½“æ„å»ºå‡ºé”™æ—¶ï¼Œä½ éœ€è¦çœ‹åˆ°è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ã€‚å½“æ„å»ºå¾ˆæ…¢æ—¶ï¼Œä½ éœ€è¦çŸ¥é“å“ªä¸ªæ­¥éª¤æœ€è€—æ—¶ã€‚",
      "specificSteps": [
        {
          "step": 1,
          "action": "åœ¨é…ç½®å¯¹è±¡ä¸­æ·»åŠ statså­—æ®µ",
          "code": "stats: {\n  colors: true,\n  modules: false,\n  children: false,\n  chunks: false,\n  chunkModules: false,\n  timings: true,\n  errors: true,\n  errorDetails: true,\n  warnings: true\n},",
          "explanation": "è¿™ä¸ªé…ç½®è®©è¾“å‡ºä¿¡æ¯æ—¢è¯¦ç»†åˆä¸å†—ä½™"
        }
      ],
      "whatEachOptionDoes": {
        "colors: true": "è®©ç»ˆç«¯è¾“å‡ºæœ‰é¢œè‰²ï¼Œé”™è¯¯æ˜¯çº¢è‰²ï¼ŒæˆåŠŸæ˜¯ç»¿è‰²",
        "modules: false": "ä¸æ˜¾ç¤ºæ¯ä¸ªæ¨¡å—çš„è¯¦æƒ…ï¼ˆå¤ªå¤šäº†ä¼šå¾ˆä¹±ï¼‰",
        "timings: true": "æ˜¾ç¤ºæ¯ä¸ªæ„å»ºæ­¥éª¤èŠ±äº†å¤šå°‘æ—¶é—´",
        "errors: true": "æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯",
        "errorDetails: true": "æ˜¾ç¤ºé”™è¯¯çš„è¯¦ç»†å †æ ˆä¿¡æ¯",
        "warnings: true": "æ˜¾ç¤ºè­¦å‘Šä¿¡æ¯"
      },
      "expectedResult": "è¿è¡Œnpm run buildæ—¶ä¼šçœ‹åˆ°å½©è‰²çš„ã€ç»“æ„åŒ–çš„æ„å»ºä¿¡æ¯",
      "validation": {
        "type": "file-content",
        "file": "webpack.config.js",
        "contains": "stats"
      }
    },
    {
      "id": "setup-bundle-analyzer",
      "title": "ğŸ” ä»»åŠ¡3ï¼šæ·»åŠ æ‰“åŒ…åˆ†æå·¥å…·",
      "description": "ä½ éœ€è¦ä¸€ä¸ªå¯è§†åŒ–å·¥å…·æ¥åˆ†ææ‰“åŒ…åçš„æ–‡ä»¶å¤§å°ï¼Œæ‰¾å‡ºå“ªäº›åº“å ç”¨ç©ºé—´æœ€å¤§ï¼Œæ˜¯å¦æœ‰é‡å¤æ‰“åŒ…çš„é—®é¢˜ã€‚",
      "specificSteps": [
        {
          "step": 1,
          "action": "åœ¨æ–‡ä»¶é¡¶éƒ¨å¼•å…¥BundleAnalyzerPlugin",
          "code": "const { BundleAnalyzerPlugin } = require('webpack-bundle-analyzer');",
          "explanation": "è¿™ä¸ªæ’ä»¶å¯ä»¥ç”Ÿæˆäº¤äº’å¼çš„æ‰“åŒ…åˆ†ææŠ¥å‘Š"
        },
        {
          "step": 2,
          "action": "åœ¨é…ç½®å¯¹è±¡ä¸­æ·»åŠ pluginsæ•°ç»„",
          "code": "plugins: [\n  // åªåœ¨åˆ†ææ¨¡å¼ä¸‹å¯ç”¨bundle analyzer\n  ...(process.env.ANALYZE ? [new BundleAnalyzerPlugin()] : [])\n],",
          "explanation": "ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦æ¡ä»¶æ€§åœ°æ·»åŠ æ’ä»¶ï¼Œé¿å…æ¯æ¬¡æ„å»ºéƒ½æ‰“å¼€åˆ†æé¡µé¢"
        },
        {
          "step": 3,
          "action": "åœ¨package.jsonçš„scriptsä¸­æ·»åŠ analyzeå‘½ä»¤",
          "code": "\"analyze\": \"ANALYZE=true webpack --mode production\"",
          "explanation": "è¿è¡Œnpm run analyzeæ—¶ä¼šæ„å»ºå¹¶è‡ªåŠ¨æ‰“å¼€åˆ†æé¡µé¢"
        }
      ],
      "howToUse": "å®Œæˆé…ç½®åï¼Œè¿è¡Œ npm run analyzeï¼Œä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨æ˜¾ç¤ºæ‰“åŒ…åˆ†æå›¾è¡¨",
      "expectedResult": "èƒ½å¤Ÿçœ‹åˆ°æ¯ä¸ªæ¨¡å—çš„å¤§å°å æ¯”ï¼Œæ‰¾å‡ºä½“ç§¯æœ€å¤§çš„ä¾èµ–åº“",
      "validation": {
        "type": "file-content",
        "file": "webpack.config.js",
        "contains": "BundleAnalyzerPlugin"
      }
    }
  ],
  "progressiveHints": [
    {
      "attempt": 1,
      "hint": "ğŸ’¡ **ç¬¬ä¸€æ¬¡æç¤º**ï¼šwebpackçš„devtoolé€‰é¡¹æ§åˆ¶å¦‚ä½•ç”Ÿæˆsource mapã€‚è¯•è¯•åœ¨é…ç½®ä¸­æ·»åŠ  `devtool: 'eval-source-map'` å¼€å§‹ã€‚"
    },
    {
      "attempt": 2,
      "hint": "ğŸ”§ **ç¬¬äºŒæ¬¡æç¤º**ï¼šä½ éœ€è¦æ ¹æ®ç¯å¢ƒé€‰æ‹©ä¸åŒçš„source mapç±»å‹ã€‚å¯ä»¥ä½¿ç”¨ `(env, argv) => {}` å‡½æ•°å½¢å¼çš„é…ç½®ï¼Œé€šè¿‡ `argv.mode` åˆ¤æ–­æ˜¯å¼€å‘è¿˜æ˜¯ç”Ÿäº§ç¯å¢ƒã€‚"
    },
    {
      "attempt": 3,
      "hint": "ğŸ“‹ **ç¬¬ä¸‰æ¬¡æç¤º**ï¼šå®Œæ•´çš„è°ƒè¯•é…ç½®éœ€è¦ä¸‰ä¸ªéƒ¨åˆ†ï¼š\n1. devtool: æ ¹æ®ç¯å¢ƒé€‰æ‹©source mapç±»å‹\n2. stats: é…ç½®æ„å»ºè¾“å‡ºä¿¡æ¯\n3. plugins: æ¡ä»¶æ€§æ·»åŠ BundleAnalyzerPlugin\n\nè®°ä½è¦å…ˆ `const { BundleAnalyzerPlugin } = require('webpack-bundle-analyzer');`"
    }
  ],
  "resources": [
    {
      "title": "Webpack è°ƒè¯•æŒ‡å—",
      "url": "https://webpack.js.org/guides/development/#using-source-maps"
    }
  ],
  "solution": {
    "webpack.config.js": "const path = require('path');\nconst { BundleAnalyzerPlugin } = require('webpack-bundle-analyzer');\n\nmodule.exports = (env, argv) => {\n  const isProduction = argv.mode === 'production';\n  \n  return {\n    entry: './src/index.js',\n    output: {\n      path: path.resolve(__dirname, 'dist'),\n      filename: isProduction ? '[name].[contenthash].js' : '[name].js',\n      clean: true\n    },\n    \n    // é…ç½®source mapç”¨äºè°ƒè¯•\n    devtool: isProduction ? 'source-map' : 'eval-source-map',\n    \n    // ç»Ÿè®¡ä¿¡æ¯é…ç½®\n    stats: {\n      colors: true,\n      modules: false,\n      children: false,\n      chunks: false,\n      chunkModules: false,\n      timings: true,\n      errors: true,\n      errorDetails: true,\n      warnings: true\n    },\n    \n    plugins: [\n      // åªåœ¨åˆ†ææ¨¡å¼ä¸‹å¯ç”¨bundle analyzer\n      ...(process.env.ANALYZE ? [new BundleAnalyzerPlugin()] : [])\n    ],\n    \n    // ä¼˜åŒ–é…ç½®\n    optimization: {\n      splitChunks: {\n        chunks: 'all',\n        cacheGroups: {\n          vendor: {\n            test: /[\\\/]node_modules[\\\/]/,\n            name: 'vendors',\n            chunks: 'all',\n          }\n        }\n      }\n    },\n    \n    // æ€§èƒ½æç¤º\n    performance: {\n      hints: isProduction ? 'warning' : false,\n      maxEntrypointSize: 250000,\n      maxAssetSize: 250000\n    }\n  };\n};",
    "package.json": "{\n  \"name\": \"webpack-debugging-level\",\n  \"version\": \"1.0.0\",\n  \"description\": \"å­¦ä¹ webpackè°ƒè¯•ä¸é”™è¯¯æ’æŸ¥\",\n  \"scripts\": {\n    \"build\": \"webpack --mode production\",\n    \"dev\": \"webpack --mode development\",\n    \"analyze\": \"ANALYZE=true webpack --mode production\",\n    \"stats\": \"webpack --json > stats.json\"\n  },\n  \"devDependencies\": {\n    \"webpack\": \"^5.88.0\",\n    \"webpack-cli\": \"^5.1.0\",\n    \"webpack-bundle-analyzer\": \"^4.9.0\"\n  }\n}"
  }
}